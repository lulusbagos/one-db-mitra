ONE DB MITRA - RINGKASAN PROYEK

Tujuan
- Aplikasi admin berbasis ASP.NET Core MVC + EF Core.
- Semua menu dan akses ditentukan dari database (bukan hardcode).
- Bahasa tabel Indonesia; tidak memakai FK di DB (relasi di aplikasi).

Struktur Hirarki
- Hirarki perusahaan: Owner -> Main Contractor -> Sub Contractor -> Vendor.
- Hirarki organisasi internal: Perusahaan -> Departemen -> Seksi -> Jabatan.

Peran dan Akses
- Owner bisa melihat semua data di bawahnya.
- Admin perusahaan hanya lihat data perusahaannya.
- Admin departemen hanya lihat departemen sendiri.
- Admin peran hanya bisa membuat user di level sama/di bawahnya.
- Admin departemen tidak boleh membuat peran baru, hanya user di departemennya.
- Menu akses per role diatur oleh Owner saja.

Menu dan Navigasi
- Menu sidebar dibentuk dari tabel menu dan mapping akses role/perusahaan.
- Menu dapat ditambah/kurangi dari DB tanpa redeploy.
- Role-based menu rendering (hanya yang diizinkan).

User Management
- User bisa multi-role.
- Ada role switcher di topbar untuk ganti role aktif.
- Password disimpan plaintext sesuai permintaan.
- Foto profil tersimpan di wwwroot/uploads/profile.

Karyawan (HR)
- Tabel utama: tbl_t_karyawan (dulu tbl_m_karyawan).
- Data personal di tbl_m_personal.
- Status karyawan: aktif, nonaktif, blacklist.
- Nonaktif wajib alasan (resign/other).
- Blacklist tidak bisa diaktifkan kembali kecuali Owner.
- Pindah perusahaan minimal 3 bulan dari tanggal resign/nonaktif.
- Jika kurang dari 3 bulan, hanya Owner yang bisa override.
- Riwayat penempatan/karyawan dicatat untuk tracking perpindahan.

Pendidikan dan Dokumen
- Pendidikan bisa lebih dari satu per karyawan (tabel detail).
- Dokumen karyawan dapat diupload (lampiran).
- Excel upload + template download untuk input massal.
- Validasi duplikasi no_ktp/no_kk/no_nik.

Email Notifikasi
- SMTP setting di tbl_m_email_setting.
- Email queue di tbl_m_email_notifikasi.
- Saat buat user/reset password, simpan notifikasi dan kirim via background worker.

UI/UX
- Tema, font, dan layout modern.
- Announcement banner terjadwal di header.
- Onboarding checklist, audit log, activity timeline/heatmap.
- Tidak ada tombol delete karyawan; hanya edit, nonaktif, atau blacklist.

Catatan Teknis
- Gunakan appsettings PrimarySqlServer untuk koneksi.
- Perubahan skema DB dilakukan manual (tanpa migration).
