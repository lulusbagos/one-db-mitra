@model IReadOnlyList<one_db_mitra.Models.Menu.MenuItem>
@{
    var currentPath = Context.Request.Path.Value ?? string.Empty;
}

@if (Model.Count == 0)
{
    <div class="sidebar-empty empty-state">
        <p class="mb-1 fw-semibold">Menu belum tersedia</p>
        <span class="text-secondary small">Hubungi admin untuk mengaktifkan akses.</span>
    </div>
}
else
{
    <ul class="sidebar-menu">
        @foreach (var item in Model)
        {
            var childViewData = new ViewDataDictionary(ViewData)
            {
                ["CurrentPath"] = currentPath
            };
            @await Html.PartialAsync("_SidebarMenuItem", item, childViewData)
        }
    </ul>
}
